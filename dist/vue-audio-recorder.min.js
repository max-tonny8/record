!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("VueAudioRecorder",[],e):"object"==typeof exports?exports.VueAudioRecorder=e():t.VueAudioRecorder=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=l[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var s=[],i=0;i<n.parts.length;i++)s.push(o(n.parts[i]));l[n.id]={id:n.id,refs:1,parts:s}}}}function i(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function o(t){var e,n,r=document.querySelector("style["+g+'~="'+t.id+'"]');if(r){if(f)return v;r.parentNode.removeChild(r)}if(_){var o=h++;r=p||(p=i()),e=s.bind(null,r,o,!1),n=s.bind(null,r,o,!0)}else r=i(),e=a.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}function s(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function a(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),m.ssrId&&t.setAttribute(g,e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n(13),l={},d=c&&(document.head||document.getElementsByTagName("head")[0]),p=null,h=0,f=!1,v=function(){},m=null,g="data-vue-ssr-id",_="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,i){f=n,m=i||{};var o=u(t,e);return r(o),function(e){for(var n=[],i=0;i<o.length;i++){var s=o[i],a=l[s.id];a.refs--,n.push(a)}e?(o=u(t,e),r(o)):o=[];for(var i=0;i<n.length;i++){var a=n[i];if(0===a.refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete l[a.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e,n,r,i,o){var s,a=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(s=t,a=t.default);var u="function"==typeof a?a.options:a;e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),i&&(u._scopeId=i);var l;if(o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=r),l){var d=u.functional,p=d?u.render:u.beforeCreate;d?(u._injectStyles=l,u.render=function(t,e){return l.call(e),p(t,e)}):u.beforeCreate=p?[].concat(p,l):[l]}return{esModule:s,exports:a,options:u}}},function(t,e,n){"use strict";function r(t,e){var n=e.getBoundingClientRect().width,r=t.target.getBoundingClientRect().left,i=(t.clientX-r)/n;try{if(!t.target.className.match(/^ar\-line\-control/))return}catch(t){return}return i=i<0?0:i,i=i>1?1:i}function i(t){return new Date(1e3*t).toISOString().substr(14,5)}e.a=r,e.b=i},function(t,e,n){"use strict";var r=n(5),i=n(17),o=n(19),s=n(3);e.a={props:{attempts:{type:Number},time:{type:Number},uploadUrl:{type:String},attemptsLimit:{type:Function},failedUpload:{type:Function},micFailed:{type:Function},startRecord:{type:Function},startUpload:{type:Function},stopRecord:{type:Function},successfulUpload:{type:Function},successfulUploadMsg:{type:String,default:"Upload successful"},failedUploadMsg:{type:String,default:"Upload fail"}},data:function(){var t=this;return{isUploading:!1,recorder:new i.a({afterStop:function(){t.recordList=t.recorder.recordList(),t.stopRecord&&t.stopRecord("stop record")},attempts:this.attempts,time:this.time}),recordList:[],selectedRecord:{},uploadStatus:null}},components:{IconButton:r.a,RecordPlayer:o.a},methods:{toggleRecorder:function(){this.attempts&&this.recorder.records.length>=this.attempts||(!this.isRecording||this.isRecording&&this.isPause?(this.recorder.start(),this.startRecord&&this.startRecord("start record")):(this.recorder.pause(),this.startRecord&&this.startRecord("pause record")))},stopRecorder:function(){this.isRecording&&this.recorder.stop()},selectRecord:function(t,e){this.selectedRecord={idx:t,url:e.url,blob:e.blob}},onStartUpload:function(){this.isUploading=!0},onEndUpload:function(t){var e=this;this.isUploading=!1,this.uploadStatus=t,setTimeout(function(){e.uploadStatus=null},1500)}},computed:{attemptsLeft:function(){return this.attempts-this.recorder.records.length},iconButtonType:function(){return this.isRecording&&this.isPause?"mic":this.isRecording?"pause":"mic"},isPause:function(){return this.recorder.isPause},isRecording:function(){return this.recorder.isRecording},message:function(){return"success"===this.uploadStatus?this.successfulUploadMsg:this.failedUploadMsg},recordedTime:function(){return this.time&&this.recorder.duration>=60*this.time&&this.stopRecorder(),Object(s.b)(this.recorder.duration)},uploadStatusClasses:function(){var t=["ar__upload-status"];return t.push("success"===this.uploadStatus?"ar__upload-status--success":"ar__upload-status--fail"),t.join(" ")},volume:function(){return parseFloat(this.recorder.volume)}}}},function(t,e,n){"use strict";function r(t){n(14)}var i=n(6),o=n(16),s=n(2),a=r,c=s(i.a,o.a,!1,a,null,null);e.a=c.exports},function(t,e,n){"use strict";e.a={props:{name:{type:String},size:{type:String,default:"sm"}},data:function(){return{icons:{download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}}},computed:{iconClasses:function(){return["ar-icon-button","ar-icon-button__"+this.size]}}}},function(t,e,n){"use strict";var r=n(5),i=n(22),o=n(3);e.a={props:{uploadUrl:{type:String},record:{type:Object},startUpload:{type:Function},successfulUpload:{type:Function},failedUpload:{type:Function}},data:function(){return{isPlaying:!1,duration:Object(o.b)(0),playedTime:Object(o.b)(0),progress:0,volume:.8}},components:{IconButton:r.a,LineControl:i.a},mounted:function(){var t=this;this.player=document.getElementById("audio-recorder-player"),this.player.addEventListener("ended",function(){t.isPlaying=!1}),this.player.addEventListener("loadeddata",function(e){t._resetProgress(),t.duration=Object(o.b)(t.player.duration)}),this.player.addEventListener("timeupdate",this._onTimeUpdate)},computed:{playBtnIcon:function(){return this.isPlaying?"pause":"play"}},methods:{playback:function(){var t=this;this.record.url&&(this.isPlaying?this.player.pause():setTimeout(function(){t.player.play()},0),this.isPlaying=!this.isPlaying)},upload:function(){var t=this;if(this.record.url){this.startUpload&&this.startUpload(),this.$emit("on-start-upload");var e=new FormData;e.append("audio",this.record.blob,"my-record"),this.$http.post(this.uploadUrl,e,{headers:{"Content-Type":"multipart/form-data; boundary="+e._boundary}}).then(function(e){t.$emit("on-end-upload","success"),t.successfulUpload&&t.successfulUpload(e)}).catch(function(e){t.$emit("on-end-upload","fail"),t.failedUpload&&t.failedUpload(e)})}},download:function(){if(this.record.url){var t=document.createElement("a");t.href=this.record.url,t.download="record.wav",t.click()}},_resetProgress:function(){this.isPlaying=!1,this.progress=0},_onTimeUpdate:function(){this.playedTime=Object(o.b)(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100},_onUpdateProgress:function(t){t&&(this.player.currentTime=t*this.player.duration)},_onUpdateVolume:function(t){t&&(this.player.volume=t,this.volume=t)}}}},function(t,e,n){"use strict";var r=n(3);e.a={props:{refId:{type:String},eventName:{type:String},percentage:{type:Number,default:0}},methods:{onMouseDown:function(t){var e=Object(r.a)(t,this.$refs[this.refId]);this.$emit("changeLineHead",e),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},onMouseUp:function(t){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);var e=Object(r.a)(t,this.$refs[this.refId]);this.$emit("changeLineHead",e)},onMouseMove:function(t){var e=Object(r.a)(t,this.$refs[this.refId]);this.$emit("changeLineHead",e)}},computed:{percentageWidth:function(){return(this.percentage<1?100*this.percentage:this.percentage)+"%"}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);e.default={install:function(t){this.installed||(this.installed=!0,t.component("audio-recorder",r.a))}}},function(t,e,n){"use strict";function r(t){n(11)}var i=n(4),o=n(27),s=n(2),a=r,c=s(i.a,o.a,!1,a,null,null);e.a=c.exports},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(1)("61bff3ea",r,!0,{})},function(t,e,n){e=t.exports=n(0)(!1),e.push([t.i,"\n.ar {\n  width: 420px;\n  font-family: 'Roboto', sans-serif;\n  border-radius: 16px;\n  background-color: #FAFAFA;\n  box-shadow: 0 4px 18px 0 rgba(0, 0, 0, 0.17);\n  position: relative;\n  box-sizing: content-box;\n}\n.ar-content {\n    padding: 16px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.ar-records {\n    height: 138px;\n    padding-top: 1px;\n    overflow-y: auto;\n    margin-bottom: 20px;\n}\n.ar-records__record {\n      width: 320px;\n      padding: 0 10px;\n      margin: 0 auto;\n      line-height: 45px;\n      display: flex;\n      justify-content: space-between;\n      border-bottom: 1px solid #E8E8E8;\n}\n.ar-records__record--selected {\n        border: 1px solid #E8E8E8;\n        border-radius: 24px;\n        background-color: #FFFFFF;\n        margin-top: -1px;\n        padding: 0 34px;\n}\n.ar-recorder {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n.ar-recorder__duration {\n      color: #AEAEAE;\n      font-size: 32px;\n      font-weight: 500;\n      margin-top: 20px;\n      margin-bottom: 16px;\n}\n.ar-recorder__stop {\n      position: absolute;\n      top: 10px;\n      right: -52px;\n}\n.ar-recorder__time-limit {\n      position: absolute;\n      color: #AEAEAE;\n      font-size: 12px;\n      top: 128px;\n}\n.ar-recorder__records-limit {\n      position: absolute;\n      color: #AEAEAE;\n      font-size: 12px;\n      top: 78px;\n}\n.ar-spinner {\n    display: flex;\n    height: 30px;\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    width: 144px;\n    z-index: 10;\n}\n.ar-spinner__dot {\n      display: block;\n      margin: 0 8px;\n      border-radius: 50%;\n      width: 30px;\n      height: 30px;\n      background: #05CBCD;\n      animation-name: blink;\n      animation-duration: 1.4s;\n      animation-iteration-count: infinite;\n      animation-fill-mode: both;\n}\n.ar-spinner__dot:nth-child(2) {\n        animation-delay: .2s;\n}\n.ar-spinner__dot:nth-child(3) {\n        animation-delay: .4s;\n}\n@keyframes blink {\n0% {\n    opacity: .2;\n}\n20% {\n    opacity: 1;\n}\n100% {\n    opacity: .2;\n}\n}\n.ar__text {\n    color: rgba(84, 84, 84, 0.5);\n    font-size: 16px;\n}\n.ar__blur {\n    filter: blur(2px);\n    opacity: 0.7;\n}\n.ar__overlay {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 10;\n}\n.ar__upload-status {\n    text-align: center;\n    font-size: 10px;\n    padding: 2px;\n    letter-spacing: 1px;\n    position: absolute;\n    bottom: 0;\n}\n.ar__upload-status--success {\n      color: green;\n}\n.ar__upload-status--fail {\n      color: red;\n}\n",""])},function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],s=o[0],a=o[1],c=o[2],u=o[3],l={id:t+":"+i,css:a,media:c,sourceMap:u};r[s]?r[s].parts.push(l):n.push(r[s]={id:s,parts:[l]})}return n}},function(t,e,n){var r=n(15);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(1)("931335fe",r,!0,{})},function(t,e,n){e=t.exports=n(0)(!1),e.push([t.i,"\n.ar-icon-button {\n  fill: #747474;\n  border-radius: 50%;\n  border: 1px solid #05CBCD;\n  background-color: #FFFFFF;\n  padding: 5px;\n  cursor: pointer;\n  transition: .2s;\n}\n.ar-icon-button--rec {\n    fill: white;\n    background-color: #FF6B64;\n    border-color: transparent;\n}\n.ar-icon-button--pulse {\n    animation: ripple .5s linear infinite;\n}\n@keyframes ripple {\n0% {\n    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.1), 0 0 0 1px rgba(255, 0, 0, 0.1), 0 0 0 5px rgba(255, 0, 0, 0.1);\n}\n100% {\n    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.1), 0 0 0 10px rgba(255, 0, 0, 0.1), 0 0 0 20px rgba(255, 0, 0, 0);\n}\n}\n.ar-icon-button--clicked {\n    fill: white;\n    background-color: #05CBCD;\n}\n.ar-icon-button__sm {\n    width: 30px;\n    height: 30px;\n}\n.ar-icon-button__lg {\n    width: 45px;\n    height: 45px;\n    box-shadow: 0 2px 5px 1px rgba(158, 158, 158, 0.5);\n}\n",""])},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.iconClasses,domProps:{innerHTML:t._s(t.icons[t.name])}})},i=[],o={render:r,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(18),o=n(3),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.afterStop=e.afterStop,this.micFailed=e.micFailed,this.bufferSize=4096,this.records=[],this.samples=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0}return s(t,[{key:"start",value:function(){navigator.mediaDevices.getUserMedia({audio:!0}).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0}},{key:"stop",value:function(){this.stream.getTracks().forEach(function(t){return t.stop()}),this.input.disconnect(),this.processor.disconnect(),this.context.close();var t=new i.a({bufferSize:this.bufferSize,sampleRate:this.context.sampleRate,samples:this.samples}),e=t.getData(),n=URL.createObjectURL(e);this.samples=[],this.records.push({blob:e,url:n,duration:Object(o.b)(this.duration)}),this.isPause=!1,this.isRecording=!1,this._duration=0,this.duration=0,this.afterStop&&this.afterStop()}},{key:"pause",value:function(){this.stream.getTracks().forEach(function(t){return t.stop()}),this.input.disconnect(),this.processor.disconnect(),this.context.close(),this._duration=this.duration,this.isPause=!0}},{key:"recordList",value:function(){return this.records}},{key:"lastRecord",value:function(){return this.records.slice(-1)}},{key:"_micCaptured",value:function(t){var e=this;this.context=new(window.AudioContext||window.webkitAudioContext),this.input=this.context.createMediaStreamSource(t),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.duration=this._duration,this.stream=t,this.processor.onaudioprocess=function(t){for(var n=t.inputBuffer.getChannelData(0),r=0,i=0;i<n.length;++i)r+=n[i]*n[i];e.duration=parseFloat(e._duration)+parseFloat(e.context.currentTime.toFixed(2)),e.volume=Math.sqrt(r/n.length).toFixed(2),e.samples.push(new Float32Array(n))},this.input.connect(this.processor),this.processor.connect(this.context.destination)}},{key:"_micError",value:function(t){this.micFailed&&this.micFailed(t)}}]),t}();e.a=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){r(this,t),this.bufferSize=e.bufferSize||4096,this.sampleRate=e.sampleRate,this.samples=e.samples}return i(t,[{key:"getData",value:function(){this._joinSamples();var t=new ArrayBuffer(44+2*this.samples.length),e=new DataView(t);return this._writeString(e,0,"RIFF"),e.setUint32(4,36+2*this.samples.length,!0),this._writeString(e,8,"WAVE"),this._writeString(e,12,"fmt "),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,1,!0),e.setUint32(24,this.sampleRate,!0),e.setUint32(28,4*this.sampleRate,!0),e.setUint16(32,4,!0),e.setUint16(34,16,!0),this._writeString(e,36,"data"),e.setUint32(40,2*this.samples.length,!0),this._floatTo16BitPCM(e,44,this.samples),new Blob([e],{type:"audio/wav"})}},{key:"_floatTo16BitPCM",value:function(t,e,n){for(var r=0;r<n.length;r++,e+=2){var i=Math.max(-1,Math.min(1,n[r]));t.setInt16(e,i<0?32768*i:32767*i,!0)}}},{key:"_joinSamples",value:function(){for(var t=this.samples.length*this.bufferSize,e=new Float64Array(t),n=0,r=0;r<this.samples.length;r++){var i=this.samples[r];e.set(i,n),n+=i.length}this.samples=e}},{key:"_writeString",value:function(t,e,n){for(var r=0;r<n.length;r++)t.setUint8(e+r,n.charCodeAt(r))}}]),t}();e.a=o},function(t,e,n){"use strict";function r(t){n(20)}var i=n(7),o=n(26),s=n(2),a=r,c=s(i.a,o.a,!1,a,null,null);e.a=c.exports},function(t,e,n){var r=n(21);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(1)("077f479a",r,!0,{})},function(t,e,n){e=t.exports=n(0)(!1),e.push([t.i,"\n.ar-player {\n  width: 100%;\n  height: 120px;\n  border: 1px solid #E8E8E8;\n  border-radius: 24px;\n  background-color: #FAFAFA;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.ar-player-actions {\n    width: 55%;\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n}\n.ar-player-volume {\n    display: flex;\n    align-items: center;\n    line-height: 10px;\n}\n.ar-player-volume-bar {\n      width: 50px;\n      height: 8px;\n      background: #E6E6E6;\n      border-radius: 4px;\n      position: relative;\n}\n.ar-player-volume__icon {\n      fill: #747474;\n      width: 24px;\n      height: 24px;\n      border: 0;\n      border-radius: 0;\n      padding: 0;\n      background-color: unset;\n      margin-right: 3px;\n}\n.ar-player-bar {\n    display: flex;\n    align-items: center;\n    margin-bottom: 2px;\n}\n.ar-player--active {\n    background-color: white;\n}\n.ar-player__progress {\n    width: 160px;\n    height: 8px;\n    border-radius: 5px;\n    background-color: #E6E6E6;\n    margin: 0 8px;\n}\n.ar-player__time {\n    color: rgba(84, 84, 84, 0.5);\n    font-size: 16px;\n    width: 41px;\n}\n",""])},function(t,e,n){"use strict";function r(t){n(23)}var i=n(8),o=n(25),s=n(2),a=r,c=s(i.a,o.a,!1,a,null,null);e.a=c.exports},function(t,e,n){var r=n(24);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(1)("cecabb1e",r,!0,{})},function(t,e,n){e=t.exports=n(0)(!1),e.push([t.i,"\n.ar-line-control {\n  position: relative;\n}\n.ar-line-control__head {\n    position: absolute;\n    height: inherit;\n    background-color: #616161;\n    border-radius: inherit;\n}\n",""])},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:t.refId,staticClass:"ar-line-control",on:{mousedown:t.onMouseDown}},[n("div",{staticClass:"ar-line-control__head",style:{width:t.percentageWidth}})])},i=[],o={render:r,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ar-player",class:{"ar-player--active":t.record.url}},[n("div",{staticClass:"ar-player-bar"},[n("div",{staticClass:"ar-player__time"},[t._v(t._s(t.playedTime))]),t._v(" "),n("line-control",{staticClass:"ar-player__progress",attrs:{"ref-id":"progress",percentage:t.progress},on:{changeLineHead:t._onUpdateProgress}}),t._v(" "),n("div",{staticClass:"ar-player__time"},[t._v(t._s(t.duration))]),t._v(" "),n("div",{staticClass:"ar-player-volume"},[n("icon-button",{staticClass:"ar-player-volume__icon",attrs:{name:"volume"}}),t._v(" "),n("line-control",{staticClass:"ar-player-volume-bar",attrs:{"ref-id":"volume",percentage:t.volume},on:{changeLineHead:t._onUpdateVolume}})],1)],1),t._v(" "),n("div",{staticClass:"ar-player-actions"},[n("icon-button",{attrs:{name:"download"},nativeOn:{click:function(e){return t.download(e)}}}),t._v(" "),n("icon-button",{class:{"ar-icon-button--clicked":t.isPlaying},attrs:{size:"lg",name:t.playBtnIcon},nativeOn:{click:function(e){return t.playback(e)}}}),t._v(" "),n("icon-button",{attrs:{name:"save"},nativeOn:{click:function(e){return t.upload(e)}}})],1),t._v(" "),n("audio",{attrs:{id:"audio-recorder-player",src:t.record.url}})])},i=[],o={render:r,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ar"},[t.isUploading?n("div",{staticClass:"ar__overlay"}):t._e(),t._v(" "),t.isUploading?n("div",{staticClass:"ar-spinner"},[n("div",{staticClass:"ar-spinner__dot"}),t._v(" "),n("div",{staticClass:"ar-spinner__dot"}),t._v(" "),n("div",{staticClass:"ar-spinner__dot"})]):t._e(),t._v(" "),n("div",{staticClass:"ar-content",class:{ar__blur:t.isUploading}},[n("div",{staticClass:"ar-recorder"},[n("icon-button",{class:{"ar-icon-button--rec":t.isRecording,"ar-icon-button--pulse":t.isRecording&&t.volume>.02},attrs:{size:"lg",name:t.iconButtonType},nativeOn:{click:function(e){return t.toggleRecorder(e)}}}),t._v(" "),n("icon-button",{staticClass:"ar-recorder__stop",attrs:{name:"stop"},nativeOn:{click:function(e){return t.stopRecorder(e)}}})],1),t._v(" "),t.attempts?n("div",{staticClass:"ar-recorder__records-limit"},[t._v("Attempts: "+t._s(t.attemptsLeft)+"/"+t._s(t.attempts))]):t._e(),t._v(" "),n("div",{staticClass:"ar-recorder__duration"},[t._v(t._s(t.recordedTime))]),t._v(" "),t.time?n("div",{staticClass:"ar-recorder__time-limit"},[t._v("Record duration is limited: "+t._s(t.time)+"m")]):t._e(),t._v(" "),n("div",{staticClass:"ar-records"},t._l(t.recordList,function(e,r){return n("div",{staticClass:"ar-records__record",class:{"ar-records__record--selected":r===t.selectedRecord.idx},on:{click:function(n){t.selectRecord(r,e)}}},[n("div",{staticClass:"ar__text"},[t._v("Record "+t._s(r+1))]),t._v(" "),n("div",{staticClass:"ar__text"},[t._v(t._s(e.duration))])])})),t._v(" "),n("record-player",{attrs:{record:t.selectedRecord,"upload-url":t.uploadUrl,"start-upload":t.startUpload,"successful-upload":t.successfulUpload,"failed-upload":t.failedUpload},on:{"on-start-upload":t.onStartUpload,"on-end-upload":t.onEndUpload}}),t._v(" "),t.uploadStatus?n("div",{class:t.uploadStatusClasses},[t._v(t._s(t.message))]):t._e()],1)])},i=[],o={render:r,staticRenderFns:i};e.a=o}]).default});
//# sourceMappingURL=vue-audio-recorder.min.js.map